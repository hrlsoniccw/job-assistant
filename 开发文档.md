# 求职帮助系统 - 开发文档

## 一、项目概述

### 1.1 项目名称
求职帮助系统 - 简历分析与面试助手

### 1.2 项目目标
帮助有工作经验的求职者快速分析简历、匹配岗位、准备面试，提高求职成功率。

### 1.3 核心价值
- **简历分析**：自动发现简历问题，提供优化建议
- **岗位匹配**：根据简历内容判断适合的岗位方向，分析与JD的匹配度
- **面试准备**：生成针对性面试题和自我介绍

### 1.4 目标用户
有工作经验的求职者（社招为主）

---

## 二、技术架构

### 2.1 技术栈

| 层级 | 技术选型 | 用途 |
|------|----------|------|
| 前端 | HTML5 + CSS3 + JavaScript (原生) | 用户界面，无构建工具，快速开发 |
| 后端 | Python 3.10 + Flask 2.x | Web服务，API接口 |
| 文件处理 | pdfplumber、python-docx、Pillow、pytesseract | PDF、Word、图片、文本解析 |
| AI能力 | 硅基流动 API (ChatGLM/Qwen等国产模型) | 简历分析、匹配度计算、面试题生成 |
| 数据存储 | SQLite（本地文件） | 轻量级存储，用户数据本地化 |

### 2.2 系统架构图

```
┌─────────────────────────────────────────────────────────┐
│                    用户浏览器                           │
│  ┌─────────────────────────────────────────────────┐   │
│  │              前端 (HTML/JS/CSS)                  │   │
│  │  - 简历上传界面      - 分析结果展示              │   │
│  │  - JD输入/上传       - 面试题展示                │   │
│  └─────────────────────────────────────────────────┘   │
│                          │                              │
│                          ▼                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │              后端服务 (Flask)                    │   │
│  │  - /api/upload      简历上传与解析              │   │
│  │  - /api/analyze     简历分析                    │   │
│  │  - /api/match       岗位匹配                    │   │
│  │  - /api/interview   面试题生成                  │   │
│  │  - /api/self-intro  自我介绍生成                │   │
│  └─────────────────────────────────────────────────┘   │
│                          │                              │
│            ┌─────────────┼─────────────┐               │
│            ▼             ▼             ▼               │
│     ┌──────────┐  ┌──────────┐  ┌──────────┐         │
│     │ 硅基流动  │  │ SQLite   │  │ 文件系统 │         │
│     │ API      │  │ 数据库   │  │ 存储     │         │
│     └──────────┘  └──────────┘  └──────────┘         │
└─────────────────────────────────────────────────────────┘
```

---

## 三、功能详细设计

### 3.1 简历分析与解析模块

#### 3.1.1 支持的文件格式
| 格式 | 处理方式 | 依赖库 |
|------|----------|--------|
| PDF | pdfplumber提取文字 | pdfplumber |
| Word (.docx) | python-docx解析 | python-docx |
| TXT | 直接读取 | - |
| 图片 (jpg/png) | OCR识别文字 | pytesseract + Pillow |

#### 3.1.2 简历结构解析
```
简历文本 → 结构化数据
├── 基本信息
│   ├── 姓名
│   ├── 联系方式
│   ├── 求职意向
│   └── 个人简介
├── 教育背景
│   ├── 学校
│   ├── 学历
│   ├── 专业
│   └── 时间
├── 工作经历
│   ├── 公司名称
│   ├── 职位
│   ├── 时间
│   └── 工作内容
├── 项目经历
│   ├── 项目名称
│   ├── 角色
│   ├── 时间
│   └── 项目描述
├── 技能特长
│   ├── 专业技能
│   └── 工具软件
└── 其他信息
    ├── 证书
    └── 培训经历
```

#### 3.1.3 简历分析维度
| 分析项 | 描述 | 优先级 |
|--------|------|--------|
| 完整性 | 检查必填项是否齐全 | P0 |
| 格式规范性 | 格式一致性、时间逻辑 | P0 |
| 内容质量 | 描述的专业性、可量化性 | P0 |
| 关键词提取 | 提取技能、经验关键词 | P0 |
| 岗位方向推断 | 根据经历推断适合岗位 | P1 |
| 竞争力评分 | 综合评估 | P1 |

---

### 3.2 岗位匹配模块

#### 3.2.1 JD解析
- 提取岗位职责（Required Responsibilities）
- 提取岗位要求（Required Qualifications）
- 提取技能关键词
- 提取经验要求

#### 3.2.2 匹配度计算
```
匹配度 = 技能匹配 × 0.4 + 经验匹配 × 0.3 + 学历匹配 × 0.2 + 其他 × 0.1

技能匹配 = 简历技能命中数 / JD要求技能数
经验匹配 = 简历年限 / JD要求年限 (上限1.0)
```

#### 3.2.3 匹配报告输出
- 匹配分数（0-100分）
- 匹配项列表
- 缺失项列表
- 改进建议

---

### 3.3 面试准备模块

#### 3.3.1 自我介绍生成
根据简历内容 + 岗位JD，生成：
- 1分钟版本（200-300字）
- 3分钟版本（500-800字）

结构：
```
姓名 + 教育背景 → 工作经历亮点 → 项目成果 → 求职意向
```

#### 3.3.2 面试题生成
针对简历内容和岗位JD，生成12-15道面试题：

| 类型 | 数量 | 示例 |
|------|------|------|
| 自我介绍 | 1 | 标准化自我介绍 |
| 岗位相关性 | 3-4 | 为什么选择这个岗位？ |
| 工作经历 | 3-4 | 请描述你最有成就感的项目 |
| 技术能力 | 2-3 | 使用的核心技术栈 |
| 行为面试 | 2-3 | 如何处理团队冲突？ |
| 开放问题 | 1-2 | 你的职业规划？ |

#### 3.3.3 参考答案生成
每道面试题附带：
- 回答要点
- 参考答案（STAR法则）
- 注意事项

---

## 四、API接口设计

### 4.1 接口列表

| 方法 | 路径 | 功能 | 请求参数 | 响应格式 |
|------|------|------|----------|----------|
| GET | / | 首页 | - | HTML |
| POST | /api/upload | 上传简历 | file (multipart/form-data) | JSON |
| POST | /api/analyze | 分析简历 | resume_id | JSON |
| POST | /api/match | 岗位匹配 | resume_id, jd_text/jd_file | JSON |
| POST | /api/interview | 生成面试题 | resume_id, jd_id | JSON |
| POST | /api/self-intro | 生成自我介绍 | resume_id, jd_id | JSON |

### 4.2 响应格式

#### 成功响应
```json
{
  "success": true,
  "data": {
    // 业务数据
  }
}
```

#### 错误响应
```json
{
  "success": false,
  "error": "错误信息"
}
```

---

## 五、数据存储设计

### 5.1 SQLite数据库结构

#### 5.1.1 简历表 (resumes)
```sql
CREATE TABLE resumes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    filename TEXT NOT NULL,
    file_type TEXT NOT NULL,
    raw_text TEXT,
    parsed_data TEXT,  -- JSON格式
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### 5.1.2 岗位JD表 (job_descriptions)
```sql
CREATE TABLE job_descriptions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    company TEXT,
    raw_text TEXT NOT NULL,
    parsed_data TEXT,  -- JSON格式
    resume_id INTEGER,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (resume_id) REFERENCES resumes(id)
);
```

#### 5.1.3 分析结果表 (analysis_results)
```sql
CREATE TABLE analysis_results (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    resume_id INTEGER,
    result_type TEXT,  -- 'analyze', 'match', 'interview', 'self-intro'
    result_data TEXT NOT NULL,  -- JSON格式
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (resume_id) REFERENCES resumes(id)
);
```

---

## 六、硅基流动 API集成

### 6.1 API配置
```python
# config.py
API_BASE_URL = "https://api.siliconflow.cn/v1"
API_KEY = "your-api-key"
MODEL_NAME = "Qwen/Qwen2.5-72B-Instruct"  # 或其他合适模型
```

### 6.2 提示词设计

#### 简历分析提示词
```
你是一个专业的HR和简历优化专家。请分析以下简历，找出其中的问题并提供改进建议。

简历内容：
{resume_text}

请从以下几个维度进行分析：
1. 简历完整性：是否有缺失的重要信息
2. 格式规范性：格式是否统一、专业
3. 内容质量：描述是否清晰、有说服力
4. 可量化性：是否有具体的成果数据
5. 关键词匹配：简历中提到的技能和经验

请用JSON格式返回分析结果：
{
    "score": 85,  // 0-100的评分
    "strengths": ["优势1", "优势2"],
    "weaknesses": ["问题1", "问题2"],
    "suggestions": ["建议1", "建议2"],
    "recommended_position": ["适合的岗位方向1", "适合的岗位方向2"]
}
```

#### 匹配度分析提示词
```
你是一个专业的HR。请分析简历与岗位JD的匹配程度。

简历内容：
{resume_text}

岗位JD：
{jd_text}

请分析：
1. 匹配度评分（0-100）
2. 匹配项（简历中符合JD要求的点）
3. 缺失项（简历中缺少但JD要求的点）
4. 改进建议

请用JSON格式返回：
{
    "match_score": 75,
    "matched_skills": ["技能1", "技能2"],
    "missing_skills": ["技能3"],
    "matched_experiences": ["经验1"],
    "suggestions": ["建议1"]
}
```

#### 面试题生成提示词
```
你是一个专业的面试官。请根据简历和岗位JD，生成面试题。

简历内容：
{resume_text}

岗位JD：
{jd_text}

请生成12-15道面试题，包括：
1. 自我介绍（1道）
2. 岗位相关性（3-4道）
3. 工作经历（3-4道）
4. 技术/专业能力（2-3道）
5. 行为面试题（2-3道）
6. 开放问题（1-2道）

请用JSON格式返回：
{
    "interview_questions": [
        {
            "type": "自我介绍",
            "question": "请简单介绍一下你自己",
            "answer_points": ["要点1", "要点2"],
            "sample_answer": "参考回答...",
            "tips": "注意事项"
        }
    ]
}
```

---

## 七、文件目录结构

```
job-helper/
├── app.py                 # Flask主应用
├── config.py              # 配置文件
├── requirements.txt       # Python依赖
├── static/
│   ├── index.html        # 主页面
│   ├── css/
│   │   └── style.css     # 样式文件
│   └── js/
│       └── main.js       # 前端逻辑
├── uploads/              # 上传文件存储
│   └── .gitkeep
├── data/
│   └── jobhelper.db      # SQLite数据库
├── utils/
│   ├── __init__.py
│   ├── file_parser.py    # 文件解析模块
│   ├── analyzer.py       # 分析模块
│   ├── matcher.py        # 匹配模块
│   ├── interviewer.py    # 面试题生成模块
│   └── ai_client.py      # AI API调用模块
└── 开发文档.md
```

---

## 八、3天开发计划

### Day 1 - 基础框架与简历解析
| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 创建项目结构 | 1小时 | 待开发 |
| 实现文件解析器 | 4小时 | 待开发 |
| - PDF解析 | 1.5小时 | 待开发 |
| - Word解析 | 1小时 | 待开发 |
| - 图片OCR | 1.5小时 | 待开发 |
| 实现AI客户端 | 2小时 | 待开发 |
| 前端基础界面 | 2小时 | 待开发 |
| 简历上传接口 | 1小时 | 待开发 |

### Day 2 - 核心分析功能
| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 简历分析功能 | 3小时 | 待开发 |
| JD解析功能 | 2小时 | 待开发 |
| 匹配度计算 | 3小时 | 待开发 |
| 自我介绍生成 | 2小时 | 待开发 |
| 接口联调 | 2小时 | 待开发 |

### Day 3 - 面试题与优化
| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 面试题生成 | 4小时 | 待开发 |
| 前端优化 | 2小时 | 待开发 |
| 本地测试 | 2小时 | 待开发 |
| Bug修复 | 2小时 | 待开发 |

---

## 九、安装与运行

### 9.1 环境要求
- Python 3.10+
- Windows/Linux/MacOS
- 4GB+ 内存

### 9.2 安装步骤
```bash
# 1. 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Linux/Mac
# 或
venv\Scripts\activate  # Windows

# 2. 安装依赖
pip install -r requirements.txt

# 3. 安装OCR依赖（可选，用于图片识别）
# Windows: 下载并安装 Tesseract OCR
# Mac: brew install tesseract
# Linux: sudo apt-get install tesseract-ocr

# 4. 配置API KEY
# 编辑 config.py，修改 API_KEY

# 5. 运行应用
python app.py

# 6. 浏览器访问
# http://localhost:5000
```

### 9.3 依赖列表 (requirements.txt)
```
Flask==3.0.0
pdfplumber==0.11.0
python-docx==1.1.0
Pillow==10.1.0
pytesseract==0.3.10
requests==2.31.0
sqlite-utils==3.35
```

---

## 十、后续优化方向

1. **性能优化**：批量处理、缓存机制
2. **功能增强**：多语言支持、语音输入
3. **用户体验**：进度条、错误提示优化
4. **数据积累**：用户数据分析、推荐算法
5. **商业化**：会员系统、付费功能

---

*文档版本: v1.0*
*创建日期: 2026-01-09*
*作者: AI Assistant*
